<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<BorderPane xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.gpa.controller.CourseController" stylesheets="@styles.css" styleClass="app-background">
    <top>
        <HBox spacing="10" styleClass="page-header">
            <padding><Insets topRightBottomLeft="10"/></padding>
            <Label text="GPA Calculator- Course Entry" styleClass="text-heading" style="-fx-font-size: 18px; -fx-font-weight: bold;" />
        </HBox>
    </top>
    <center>
        <VBox spacing="10" alignment="TOP_CENTER">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
            <SplitPane dividerPositions="0.38">
                <items>
                    <!-- Left: Input form and actions -->
                    <VBox spacing="12" maxWidth="Infinity" styleClass="card">
                        <padding><Insets topRightBottomLeft="8"/></padding>
                        <Label text="Course Details" styleClass="section-title" />
                        <GridPane hgap="10" vgap="10">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="35" halignment="RIGHT" />
                                <ColumnConstraints percentWidth="65" hgrow="ALWAYS" />
                            </columnConstraints>
                            <Label text="Total Required Credits:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                            <TextField fx:id="totalRequiredCredits" promptText="e.g. 20" GridPane.rowIndex="0" GridPane.columnIndex="1" onKeyReleased="#updateProgress" GridPane.hgrow="ALWAYS" />

                            <Label text="Course Name:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                            <TextField fx:id="courseName" GridPane.rowIndex="1" GridPane.columnIndex="1" GridPane.hgrow="ALWAYS" />

                            <Label text="Course Code:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                            <TextField fx:id="courseCode" GridPane.rowIndex="2" GridPane.columnIndex="1" GridPane.hgrow="ALWAYS" />

                            <Label text="Course Credit:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                            <TextField fx:id="courseCredit" GridPane.rowIndex="3" GridPane.columnIndex="1" promptText="e.g. 3" GridPane.hgrow="ALWAYS" />

                            <Label text="Teacher 1:" GridPane.rowIndex="4" GridPane.columnIndex="0" />
                            <TextField fx:id="teacher1" GridPane.rowIndex="4" GridPane.columnIndex="1" GridPane.hgrow="ALWAYS" />

                            <Label text="Teacher 2:" GridPane.rowIndex="5" GridPane.columnIndex="0" />
                            <TextField fx:id="teacher2" GridPane.rowIndex="5" GridPane.columnIndex="1" GridPane.hgrow="ALWAYS" />

                            <Label text="Grade:" GridPane.rowIndex="6" GridPane.columnIndex="0" />
                            <ComboBox fx:id="grade" GridPane.rowIndex="6" GridPane.columnIndex="1" />
                        </GridPane>

                        <HBox spacing="10" alignment="CENTER">
                            <VBox.margin><Insets top="10"/></VBox.margin>
                            <Button text="Reset" fx:id="btnReset" onAction="#onReset" prefWidth="120" prefHeight="40" />
                            <Button text="Add Course" fx:id="btnAddCourse" onAction="#onAddCourse" prefWidth="180" prefHeight="40" />
                            <Button text="Go Back" onAction="#onBack" prefWidth="140" prefHeight="40" />
                        </HBox>

                        <Label fx:id="lblProgress" text="Credits entered: 0 / 0" />
                        <HBox alignment="CENTER">
                            <Button text="Calculate GPA" fx:id="btnCalculate" onAction="#onCalculate" prefWidth="180" prefHeight="40" />
                        </HBox>
                    </VBox>

                    <!-- Right: Courses table and actions -->
                    <VBox spacing="12" maxWidth="Infinity" styleClass="card">
                        <padding><Insets topRightBottomLeft="8"/></padding>
                        <Label text="Courses Entered" styleClass="section-title" />
                        <TableView fx:id="courseTable" prefHeight="300" styleClass="gpa-table" VBox.vgrow="ALWAYS">
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                            <columns>
                                <TableColumn fx:id="colName" text="Course Name" prefWidth="200" />
                                <TableColumn fx:id="colCode" text="Code" prefWidth="120" />
                                <TableColumn fx:id="colCredit" text="Credit" prefWidth="80" />
                                <TableColumn fx:id="colTeacher1" text="Teacher 1" prefWidth="160" />
                                <TableColumn fx:id="colTeacher2" text="Teacher 2" prefWidth="160" />
                                <TableColumn fx:id="colGrade" text="Grade" prefWidth="80" />
                            </columns>
                            <placeholder>
                                <Label text="No courses added yet" />
                            </placeholder>
                        </TableView>

                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button text="Edit Selected" fx:id="btnEditSelected" onAction="#onEditSelected" prefWidth="140" />
                            <Button text="Delete Selected" fx:id="btnDeleteSelected" onAction="#onDeleteSelected" prefWidth="160" />
                        </HBox>
                    </VBox>
                </items>
            </SplitPane>
        </VBox>
    </center>
</BorderPane>
